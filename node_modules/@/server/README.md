# @/server

## Usage

```js
const Server = require('@/server')

const server = new Server({
  // Log that we want the server to use
  log,
  // Some files cache for the server to read files from
  files,
  // Some errors for the server to throw
  errors
})

server
  .use(async (ctx, next) => {
    // we have access to what was passed in
    // we can log
    ctx.log.trace('I am the first middleware')
    // we can read files
    const file = ctx.files.get('/some/path')
    // we can even through errors
    // throw new ctx.errors.NotFound()
    await next()

    ctx.log.trace('I am called after the rest of the middleware')
  })
  .use(ctx => {
    ctx.status = 200
    ctx.body = {
      data: true
    }
  })
  .start(5001, () => log.trace('I have started!'))
  .stop(() => log.trace('I have stopped'))
```